<!doctype html>
<html lang="ko-KR">
  <head>
    <meta charset="UTF-8" />
    <title>ì†ì„± ì„¤ì •, ì½ê¸°, ì œê±° ì‹¤ìŠµ</title>
    <style>
      .product {
        border: 1px solid #ccc;
        padding: 1rem;
        margin-bottom: 1rem;
        font-size: 1rem;
      }

      .button {
        margin-right: 0.5rem;
      }
    </style>
  </head>
  <body>
    <div class="product" data-name="Red Sneakers" data-stock="3">
      ğŸ›ï¸ ì œí’ˆ: <span class="name">ë ˆë“œ ìŠ¤ë‹ˆì»¤ìŠ¤</span><br />
      ğŸ“¦ ì¬ê³ : <span class="stock">3</span>
    </div>

    <button type="button" class="button" id="read">ì†ì„± ì½ê¸°</button>
    <button type="button" class="button" id="update">ì¬ê³  ìˆ˜ì •</button>
    <button type="button" class="button" id="remove">ì†ì„± ì œê±°</button>

    <script>
      const productElement = document.querySelector('.product');
      const stockElement = productElement.querySelector('.stock');
      const readButton = document.getElementById('read');
      const updateButton = document.getElementById('update');
      const removeButton = document.getElementById('remove');

      // 1. "ì†ì„± ì½ê¸°" ë²„íŠ¼ í´ë¦­ ì‹œ, ì œí’ˆì˜ ì»¤ìŠ¤í…€ ì†ì„±ì„ ì½ì–´ ì½˜ì†” íŒ¨ë„ì— ì¶œë ¥í•©ë‹ˆë‹¤. (`getAttribute` í™œìš©)
      readButton.addEventListener('click', () => {
        console.group('getAttribute');
        const dataName = productElement.getAttribute('data-name');
        console.log('ë°ì´í„° ì´ë¦„ =', dataName, 'íƒ€ì… =', typeof dataName);
        const dataStock = productElement.getAttribute('data-stock');
        console.log('ë°ì´í„° ì¬ê³  =', dataStock, 'íƒ€ì… =', typeof dataStock);
        console.groupEnd();
      });

      // 2. "ì†ì„± ì½ê¸°" ë²„íŠ¼ í´ë¦­ ì‹œ, ì œí’ˆì˜ ì»¤ìŠ¤í…€ ì†ì„±ì„ ì½ì–´ ì½˜ì†” íŒ¨ë„ì— ì¶œë ¥í•©ë‹ˆë‹¤. (`dataset` í™œìš©)
      readButton.addEventListener('click', () => {
        console.group('getAttribute');
        const dataName = productElement.dataset.name;
        console.log('ë°ì´í„° ì´ë¦„ =', dataName, 'íƒ€ì… =', typeof dataName);
        const dataStock = productElement.dataset.stock;
        console.log('ë°ì´í„° ì¬ê³  =', dataStock, 'íƒ€ì… =', typeof dataStock);
        console.groupEnd();
      });

      // 3. "ì¬ê³  ìˆ˜ì •" ë²„íŠ¼ í´ë¦­ ì‹œ, í˜„ì¬ ì¬ê³  ê°’ì— 2ë¥¼ ë”í•œ ê°’ìœ¼ë¡œ ì„¤ì •í•˜ê³ ,
      // "ğŸ“¦Â ì¬ê³ : 5"ë¡œ í™”ë©´ì— ë°˜ì˜í•©ë‹ˆë‹¤.
      updateButton.addEventListener('click', () => {
        const currentStock = parseInt(stockElement.textContent, 10);
        const updateStockValue = currentStock + 2;
        productElement.dataset.stock = updateStockValue;

        // EventTarget -> Node -> Element -> HTMLElement -> HTMLSpanElement -> <span>
        // <span> ìš”ì†ŒëŠ” Nodeì´ë¯€ë¡œ Node ì¸í„°í˜ì´ìŠ¤ì˜ textContent ì‚¬ìš© ê°€ëŠ¥
        // Nodeì˜ textContent ì½ê¸°
        console.log(stockElement.textContent, typeof stockElement.textContent);
        // Nodeì˜ textContent ì“°ê¸°
        stockElement.textContent = updateStockValue;
      });

      // 4. "ì†ì„± ì œê±°" ë²„íŠ¼ í´ë¦­ ì‹œ, ì œí’ˆ `data-stock` ì†ì„±ì„ ì œê±°í•˜ê³ ,
      // "ğŸ“¦Â ì¬ê³ : ì—†ìŒ"ìœ¼ë¡œ í™”ë©´ì— ë°˜ì˜í•©ë‹ˆë‹¤.
      removeButton.addEventListener('click', () => {
        productElement.removeAttribute('data-stock');
        stockElement.textContent = 'ì—†ìŒ';
        console.log('data-stock ì†ì„±ì´ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤.');
      });
    </script>
  </body>
</html>
